syntax = "proto3";

package workshop;
option go_package="./types";

message Empty {}

service workshop {
    rpc Insert (WorkshopInfo) returns (Empty);
    rpc Delete (DeleteReq) returns (Empty);
    rpc Change (WorkshopInfoWithId) returns (Empty);
    rpc PartialChange (WorkshopInfoWithId) returns (Empty);
    rpc FindListByEnterprise (FindListByEnterpriseReq) returns (WorkshopList);
}

message WorkshopInfo {
    int64  EnterpriseId = 1;
    int64  ManagerId    = 2;
    string Name         = 3;
    string Address      = 4;
    string PhoneNumber  = 5;
    string Remark       = 6;
    int64  Version      = 7;
}

message DeleteReq {
    int64 id = 1;
}

message WorkshopInfoWithId {
    int64  Id           = 1;
    int64  EnterpriseId = 2;
    int64  ManagerId    = 3;
    string Name         = 4;
    string Address      = 5;
    string PhoneNumber  = 6;
    string Remark       = 7;
    int64  Version      = 8;
    
}

message FindListByEnterpriseReq {
    int64 EnterpriseId = 1;
    int32 PageSize     = 2;
    int32 PageNumber   = 3;
}

message WorkshopList {
    repeated WorkshopInfoWithId List = 1;
}